<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>MadaCoin</title>
  <meta name="description" content="MadaCoin støtter udvikling i Madagaskar gennem donationer og gennemsigtighed. Følg projektet og vores roadmap.">
  <link rel="icon" href="/favicon_boosted.ico?v=1" type="image/x-icon">

  <!-- Open Graph -->
  <meta property="og:title" content="MadaCoin — Donations for Madagascar">
  <meta property="og:description" content="Støt udvikling i Madagaskar gennem MadaCoin.">
  <meta property="og:url" content="https://madacoin.pro">
  <meta property="og:type" content="website">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="MadaCoin — Donations for Madagascar">
  <meta name="twitter:description" content="Støt udvikling i Madagaskar gennem MadaCoin.">

  <style>
    /* Base layout */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      /* NOTE: Signed URL udløber senere – ok for nu */
      background: url('https://byrlebjwknppjbtbkozt.supabase.co/storage/v1/object/sign/backgrounds/ChatGPT%20Image%2026.%20jul.%202025,%2002.39.48.png?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV8wZTcxMmNhYy0yZjA2LTQ2Y2YtYjRlMC1lOTcyZjJiNmQwNjEiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJiYWNrZ3JvdW5kcy9DaGF0R1BUIEltYWdlIDI2LiBqdWwuIDIwMjUsIDAyLjM5LjQ4LnBuZyIsImlhdCI6MTc1MzQ5MzUwMCwiZXhwIjoxMDM5MzQwNzEwMH0.MDP85P5oLRUPvjTqFpzpaHDTgHa6Kg1pY9XDHYrve8w') no-repeat center center fixed;
      background-size: cover;
      background-attachment: fixed;
    }

    .madagascar-container {
      position: absolute;
      top: 0%;
      left: 52%;
      transform: translateX(-50%);
      z-index: 1;
    }
    .madagascar-container img {
      width: 90vw;
      max-width: 600px;
      height: auto;
      border-radius: 10px;
    }

    .social-menu {
      position: fixed;
      top: 150px;
      left: 10px;
      display: flex;
      flex-direction: column;
      gap: 15px;
      z-index: 1000;
    }
    .social-menu a {
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      color: white;
      background-color: rgba(0, 0, 0, 0.5);
      padding: 8px 12px;
      border-radius: 5px;
      font-weight: bold;
      transition: background-color 0.3s;
    }
    .social-menu a:hover { background-color: rgba(0, 0, 0, 0.7); }
    .social-menu a img { width: 25px; }

    .menu {
      display: flex;
      justify-content: center;
      gap: 20px;
      padding: 20px;
    }
    .menu a {
      text-decoration: none;
      color: white;
      font-weight: bold;
      padding: 10px 20px;
      background-color: rgba(0, 0, 0, 0.5);
      border-radius: 5px;
    }
    .menu a:hover { background-color: rgba(0, 0, 0, 0.7); }

    .content-box {
      padding: 10px;
      padding-top: 1px;
      border-radius: 20px;
      margin-top: 400px;
      max-width: 1000px;
      margin: 400px auto 10px;
    }

    .coin-section {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 200px;
      margin-top: 10px;
      padding-top: 25px;
    }
    .coin {
      background: rgba(255, 248, 220, 0.95);
      margin: 10px;
      padding: 10px;
      border-radius: 15px;
      width: 320px;
      text-align: center;
      box-shadow: 0 0 12px rgba(0,0,0,0.1);
      border: 2px solid #e5c100;
    }
    .coin img {
      width: 300px;
      height: 300px;
      border-radius: 10px;
      margin-bottom: 10px;
      object-fit: cover;
    }
    .coin-description {
      font-size: 0.9rem;
      margin-bottom: 10px;
      color: #333;
    }

    .button {
      background: linear-gradient(135deg, #FFD700, #DAA520);
      color: #004d73 !important;
      padding: 10px 20px;
      border: none;
      margin-top: 10px;
      cursor: pointer;
      border-radius: 5px;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transition: all 0.3s ease-in-out;
    }
    .button:hover { background: linear-gradient(135deg, #FFC107, #B8860B); transform: scale(1.05); }

    .roadmap {
      margin: 40px auto;
      max-width: 800px;
      padding: 0 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .roadmap-box {
      background: rgba(255, 248, 220, 0.95);
      padding: 15px 50px;
      border-radius: 20px;
      border: 2px solid #e5c100;
      box-shadow: 0 0 12px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 30px;
      width: 100%;
      max-width: 700px;
    }
    .roadmap-box h2 { margin: 0; color: #444; font-size: 1.2rem; }
    .description { font-size: 0.8rem; margin: 0; color: #555; }
    .step-images {
      display: flex; flex-wrap: wrap; gap: 10px; max-width: 100%;
      justify-content: flex-start; margin-top: 10px;
    }
    .step-images img {
      width: 80px; height: 80px; object-fit: cover; cursor: pointer;
      margin: 5px; transition: transform 0.3s ease-in-out;
    }
    .step-images img:hover { transform: scale(4); z-index: 2; }

    footer { text-align: center; padding: 20px; background: #ddd; }

    @media (max-width: 768px) {
      .madagascar-container img { width: 92vw; max-width: 520px; }
      .content-box { margin-top: 240px; padding: 12px; }
      .coin-section { gap: 24px; }
    }
  </style>
</head>
<body>

  <!-- VENSTREMENU SOCIAL -->
  <div class="social-menu" id="social-menu"></div>


  <!-- ØVERSTE MENU -->
  <div class="menu">
    <a href="#">Hjem</a>
    <a href="#">Om MadaCoin</a>
    <a href="#">Kontakt</a>
  </div>

  <!-- Ø-billedet -->
  <div class="madagascar-container">
    <!-- NOTE: Signed URL udløber senere – ok for nu -->
    <img src="https://byrlebjwknppjbtbkozt.supabase.co/storage/v1/object/sign/backgrounds/ChatGPT%20Image%2026.%20jul.%202025,%2002.34.32.png?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV8wZTcxMmNhYy0yZjA2LTQ2Y2YtYjRlMC1lOTcyZjJiNmQwNjEiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJiYWNrZ3JvdW5kcy9DaGF0R1BUIEltYWdlIDI2LiBqdWwuIDIwMjUsIDAyLjM0LjMyLnBuZyIsImlhdCI6MTc1MzY0ODA0NCwiZXhwIjo4ODE1MzU2MTY0NH0.NgGHOp8k38S34w-iR6M3TCjEFJENQ1MRdjmpv4CLKRY"
         alt="Madagaskar Ø" />
  </div>

  <!-- MØNTSEKTION -->
  <div class="content-box">
    <section class="coin-section">
      <div class="coin">
        <img id="coinD" alt="MadaCoin Donation" />
        <p class="coin-description">Støt vores mission ved at købe MadaCoin Donation.</p>
        <button class="button" onclick="openTransak('MCD', '0xa594586B04f1b6782EC906B49882EbD0E652a388')">Køb MadaCoin Donation</button>
      </div>
      <div class="coin">
        <img id="coinC" alt="MadaCoin" />
        <p class="coin-description">Investér i MadaCoin – fremtidens valuta for Madagaskar.</p>
        <button class="button" onclick="openTransak('MCN', 'DIN_MCN_KONTRAKT_ADRESSE')">Køb MadaCoin</button>
      </div>
    </section>
  </div>

  <!-- ROADMAP -->
  <div class="roadmap" id="roadmap"></div>

<!-- Placeholder  for gammel youtube blok -->
  
  <script>
    /* Transak (placeholder indtil nøgler er på plads) */
    const TRANSAK_KEY = "DIN_API_KEY"; // TODO
    function openTransak(symbol, wallet) {
      if (!TRANSAK_KEY || TRANSAK_KEY === "DIN_API_KEY" || (wallet && wallet.includes("DIN_MCN_KONTRAKT_ADRESSE"))) {
        alert("Køb-funktionen bliver aktiveret, når nøgle og kontrakt er sat.");
        return;
      }
      const url = `https://global.transak.com/?apiKey=${TRANSAK_KEY}&cryptoCurrencyCode=${symbol}&walletAddress=${wallet}&network=polygon&fiatCurrency=EUR&defaultPaymentMethod=credit_debit_card&themeColor=FFCC00`;
      window.open(url, "_blank", "width=500,height=700");
    }

    /* Supabase public base */
    const base = "https://byrlebjwknppjbtbkozt.supabase.co/storage/v1/object/public";

    /* Coins: forventer public filer i bucket "images":
       images/MadaCoin_C.png   og   images/MadaCoin_D.png  */
    const pub = (...p) => `${base}/${p.map(encodeURIComponent).join('/')}`;
    function setCoinImages() {
      const c = document.getElementById('coinC');
      const d = document.getElementById('coinD');
      if (c) c.src = pub('images','MadaCoin_C.png'); // case-sensitivt!
      if (d) d.src = pub('images','MadaCoin_D.png');
    }

    /* Roadmap-billeder (public buckets: roadmap1..4 med Roadmap_X_pic_Y.png) */
    const buckets = ["roadmap1", "roadmap2", "roadmap3", "roadmap4"];
    const steps = [
      { title: "Køb byggegrund - Opret projekt kontor", desc: "Når målet er opfyldt, køber vi byggegrund og opretter projektkontor." },
      { title: "De første boliger bygges", desc: "Når minimum målet er opfyldt, sættes projektet i gang." },
      { title: "Solcellepark og batterier", desc: "Når målet er opnået, installerer vi solceller og batterier." },
      { title: "Byg en Skole", desc: "Byggeprojekt fra børnehave til gymnasium." }
    ];

    function renderRoadmap() {
      const root = document.getElementById('roadmap');
      root.innerHTML = '';

      buckets.forEach((bucket, idx) => {
        const stepIndex = idx + 1;
        const s = steps[idx] || { title: `Roadmap ${stepIndex}`, desc: '' };

        const box = document.createElement('div');
        box.className = 'roadmap-box';
        box.innerHTML = `
          <h2>${s.title}</h2>
          <p class="description">${s.desc}</p>
          <div class="step-images" id="imgs-${stepIndex}"></div>
        `;
        root.appendChild(box);

        const wrap = document.getElementById(`imgs-${stepIndex}`);

        for (let i = 1; i <= 10; i++) {
          const url = `${base}/${bucket}/Roadmap_${stepIndex}_pic_${i}.png`;
          const img = document.createElement('img');
          img.alt = `Roadmap ${stepIndex} billede ${i}`;
          img.src = url;
          img.onerror = () => img.remove();
          wrap.appendChild(img);
        }

        // Hvis ingen billeder blev vist, vis en lille tekst i stedet
        setTimeout(() => {
          if (!wrap.querySelector('img')) {
            wrap.innerHTML = `<p style="color:#666;margin:6px 0;">Billeder kommer snart…</p>`;
          }
        }, 500);
      });
    }

    /* Init */
    renderRoadmap();
    setCoinImages();
  </script>


<!-- YouTube (skjules automatisk hvis ingen data) -->
<section id="yt-section" style="margin:40px 0;">
  <div style="max-width:1000px;margin:0 auto;">
    <div id="yt-player" style="position:relative;padding-top:56.25%;border:2px solid #222;border-radius:14px;overflow:hidden;"></div>
    <div id="yt-thumbs" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));gap:12px;margin-top:16px;"></div>
  </div>
</section>


<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script>
  const SUPABASE_URL = "https://byrlebjwknppjbtbkozt.supabase.co";
  const SUPABASE_ANON = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ5cmxlYmp3a25wcGpidGJrb3p0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE3NjcyNjYsImV4cCI6MjA2NzM0MzI2Nn0.3aoQMQgmxXouUfpqrwfSgcUgedjZEue6s3ZkGoqvQYY";
  const sb = supabase.createClient(SUPABASE_URL, SUPABASE_ANON);

  function getYouTubeId(url) {
    if (!url) return null;
    try {
      const u = new URL(url);
      if (u.hostname.includes("youtu.be")) return u.pathname.slice(1);
      if (u.searchParams.get("v")) return u.searchParams.get("v");
      const m = url.match(/(?:embed|shorts)\/([a-zA-Z0-9_-]{6,})/);
      if (m) return m[1];
      const seg = u.pathname.split("/").pop();
      return seg && seg.length >= 6 ? seg : null;
    } catch { return null; }
  }

  function thumbUrl(id) {
    return `https://i.ytimg.com/vi/${id}/hqdefault.jpg`;
  }

  function renderPlayer(id) {
    const el = document.getElementById("yt-player");
    el.innerHTML = `
      <iframe
        src="https://www.youtube.com/embed/${id}"
        title="MadaCoin video"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen
        style="position:absolute;inset:0;width:100%;height:100%;"
      ></iframe>`;
  }

  function renderThumbs(videos, activeId) {
    const wrap = document.getElementById("yt-thumbs");
    wrap.innerHTML = "";
    videos.forEach(v => {
      const id = v._id;
      const btn = document.createElement("button");
      btn.style.background = 'transparent';
      btn.style.border = id === activeId ? "3px solid #f0b90b" : "2px solid #333";
      btn.style.borderRadius = "12px";
      btn.style.overflow = "hidden";
      btn.style.cursor = "pointer";
      btn.style.padding = "0";
      btn.title = v.title || "Se video";
      btn.innerHTML = `
  <div style="display:flex;flex-direction:column;gap:6px">
    <img src="${thumbUrl(id)}" alt="${v.title || "YouTube thumbnail"}"
         style="display:block;width:100%;height:100%;object-fit:cover;">
    ${v.title ? `<div style="font-size:13px;line-height:1.3;color:#222;background:rgba(255,247,214,.95);padding:6px 8px;border-radius:8px;text-align:center;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;">${v.title}</div>` : ``}


`;

      btn.onclick = () => {
        renderPlayer(id);
        [...wrap.children].forEach(c => c.style.border = "2px solid #333");
        btn.style.border = "3px solid #f0b90b";
      };
      wrap.appendChild(btn);
    });
  }

  async function initYouTube() {
    const { data, error } = await sb
      .from("youtube_videos")
     .select("youtube_url,is_active,created_at,title,sort_order")
.eq("is_active", true)
.not("youtube_url", "is", null)
.neq("youtube_url", "")
.order("sort_order", { ascending: true, nullsFirst: false })
.order("created_at", { ascending: false });



    if (error) { console.error(error); return; }

    const videos = (data || [])
      .map(v => ({ ...v, _id: getYouTubeId(v.youtube_url) }))
      .filter(v => v._id);

    if (!videos.length) {
      document.getElementById("yt-section").style.display = "none";
      return;
    }

    document.getElementById("yt-section").style.display = "";
    renderPlayer(videos[0]._id);
    renderThumbs(videos, videos[0]._id);
  }

  initYouTube();
</script>


<script>
  async function loadFooter() {
    const el = document.getElementById('footer-text');
    if (!el || !window.sb) return;

    const lang = (navigator.language || 'en').slice(0, 2);

    // Prøv først brugerens sprog
    let { data, error } = await sb
      .from('site_text')
      .select('value')
      .eq('key', 'footer_text')
      .eq('lang', lang)
      .eq('is_active', true)
      .limit(1)
      .maybeSingle();

    // Fald tilbage til engelsk
    if ((!data || !data.value) && !error) {
      const fallback = await sb
        .from('site_text')
        .select('value')
        .eq('key', 'footer_text')
        .eq('lang', 'en')
        .eq('is_active', true)
        .limit(1)
        .maybeSingle();
      data = fallback.data;
    }

    if (data && data.value) el.textContent = data.value;
  }

  loadFooter();
</script>


  <script>
  async function loadSocial() {
    const root = document.getElementById('social-menu');
    if (!root || !window.sb) return;

    const { data, error } = await sb
      .from('social_links')
      .select('platform,url,sort_order,is_active,created_at')
      .eq('is_active', true)
      .order('sort_order', { ascending: true })
      .order('created_at', { ascending: false });

    if (error || !data?.length) { root.style.display = 'none'; return; }

    root.style.display = '';
    root.innerHTML = '';

    (data || []).forEach(row => {
      const a = document.createElement('a');
      a.href = row.url;
      a.target = '_blank';
      a.rel = 'noopener noreferrer';
      a.textContent = (row.platform || 'Link'); // kun tekst først
      root.appendChild(a);
    });
  }

  loadSocial();
</script>



  
  
  <footer><span id="footer-text">© 2025 MadaCoin. All rights reserved.</span></footer>

</body>
</html>


















